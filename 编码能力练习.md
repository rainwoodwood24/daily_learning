# 编码能力练习

## 一、启航篇

**1、基础模拟题**

求1000以内（不包括1000）的所有3或5的倍数的和

```c
#include<stdio.h>
#define MAX_N 1000
int main()
{
    int ans=0;
    for(int i=3;i<MAX_N;i++){
        if(i%3==0||i%5==0) ans+=i;
    }
    printf("%d\n",ans);
    return 0;
}
```

是不是最优秀的？怎么衡量？

时间复杂度：跑得快不快

空间复杂度：吃的多不多（越少越好）

程序优化：等差数列公式

```c
#include<stdio.h>
#define MAX_N 1000
int main()
{
    int sum1=(3+999)*(999/3)/2;
    int sum2=(5+995)*(999/5)/2;
    int sum3=(15+999/15*15)*(999/15)/2;
    printf("%d\n",sum1+sum2-sum3);
    return 0;
}
```

第一段代码时间复杂度是O（n)

第二段代码时间复杂度是O（1）

**2、斐波那契数列**

与第一题很像，就是先告诉我们数的性质，我们要对数进行性质判断以及维护，进而去求得需要的值

推导式：我们的重点    生成公式：研究生阶段学习

代码1：

```c
#include<stdio.h>
#define MAX_N 4000000
int f(int n){
    if(n==0||n==1) return 1;
    else return f(n-1)+f(n-2);
}
int main()
{
    int sum=0;
    for(int i=1;;i++){
        if(f(i)<=MAX_N){
            if(!(f(i)%2)) sum+=f(i);
            continue;
        }
        break;
    }
    printf("%d\n",sum);
    return 0;
}
```

代码2：

```c
#include<stdio.h>
#define MAX_N 4000000
int fib[MAX_N+5];
int main()
{
    fib[1]=1,fib[2]=2;
    int sum=2;
    for(int i=3;;i++){
        fib[i]=fib[i-1]+fib[i-2];
        if(fib[i]<=MAX_N){
            if(fib[i]%2==0) sum+=fib[i];
            continue;
        }
        break;
    }
    printf("%d\n",sum);
    return 0;
}
```

代码3：滑动数组(滚动数组)//将空间复杂度优化成O（1）

```c
#include<stdio.h>
#define MAX_N 4000000

int fib[3]={0,1,2};
int main()
{
    int n=2,sum=2;
    while(fib[(n-1)%3]+fib[n%3]<=MAX_N)
    {
        n+=1;
        fib[n%3]=fib[(n-1)%3]+fib[(n-2)%3];
        if(!(fib[n%3]&1)) sum+=fib[n%3];//if(fib[n%3]%2==0) sum+=fib[n%3];位运算是所有运算中最快的一类运算，而求余运算是最慢的
    }
    printf("%d\n",sum);
    return 0;
}
```

代码4：两个变量

```c
#include<stdio.h>
#define MAX_N 4000000
int main()
{
    int a=1,b=2,sum=2;
    while(a+b<=MAX_N){
        a=a+b;//接下来将a,b值交换  
        a^=b;
        b^=a;
        a^=b;
        if(!(b&1)) sum+=b;
    }
    printf("%d\n",sum);
    return 0;
}
```

```c
#include<stdio.h>
#define MAX_N 4000000
int main()
{
    int a=1,b=2,sum=2;
    while(a+b<=MAX_N){
        b=a+b;
        a=b-a;
        if(!(b&1)) sum+=b;
    }
    printf("%d\n",sum);
    return 0;
}
```

